#### 创建设备

网关在系统中也是作为`设备`管理，启动程序，使用`tenant@thingsboard.org`账号登录系统，进入设备页面
![设备页](Imag/%E8%AE%BE%E5%A4%87%E9%A1%B5.png)

点击右侧`+`号，选择`添加新设备`菜单
![设备新建](Imag/%E8%AE%BE%E5%A4%87%E6%96%B0%E5%BB%BA.png)

输入`名称`（必须），勾上`是否网关`多选框（必须），填写`说明`(可选)，点击`添加`按钮
![网关保存](Imag/%E7%BD%91%E5%85%B3%E4%BF%9D%E5%AD%98.png)

可以看到设备列表中出现了设备`我的网关`，点击`我的网关，查看`管理凭据`，默认系统为网关生成了`Access token`
![网关凭据查看](Imag/%E7%BD%91%E5%85%B3%E5%87%AD%E6%8D%AE%E6%9F%A5%E7%9C%8B.png)

#### 连接

网关通过Mqtt协议向平台转发设备数据，本文使用MqttBox模拟。

MqttClient配置如下，其中`Host`填写本机1883端口，`Username`填写访问令牌内容

![Mqtt客户端配置](Imag/Mqtt%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE.png)

点击`save`按钮进行保存,观察最上方连接状态，绿色代表连接成功

![Mqtt连接状态](Imag/Mqtt%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81.jpg)

#### 数据上传

模拟转发设备名为`我的设备`的数据，数据内容为

```
{"消息来源":"我的网关"}
```

在Mqttbox中指定topic

```
v1/gateway/telemetry
```

以及消息内容（Json格式）

```
{"我的设备":[{"消息来源":"我的网关"}]}
```

点击`Publish`按钮进行发布
![网关数据上传](Imag/%E7%BD%91%E5%85%B3%E6%95%B0%E6%8D%AE%E4%B8%8A%E4%BC%A0.png)

在平台上`我的设备`的`最新遥测数据`Tab页中查看数据，能查到`"消息来源":"我的网关"`数据代表成功。
![网关数据上传](Imag/%E9%81%A5%E6%B5%8B%E6%95%B0%E6%8D%AE%E6%9F%A5%E7%9C%8B2.png)


