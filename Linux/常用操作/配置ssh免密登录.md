# ssh免密登录

集群搭建或者需要控制其他主机的之后常常会需要免密登陆。下面三步搞定免密登陆：

## 1.检查是否存在密钥文件

查看~/.ssh目录下是否存在密钥文件，如果不存在执行：

```
ssh-keygen -t rsa
```


一路回车。

## 2.执行命令拷贝密钥到需要免密的机器上

```
ssh-copy-id -i ~/.ssh/id_rsa.pub 用户名@ip
```

![img](Imag/20181023110311815)

还有一种方法是：

将操作的主机的公钥拷贝到到需要远程链接的主机（改名，防止覆盖掉原本的公钥）：

```
scp -p id_rsa.pub root@192.168.46.190:~/.ssh/id_rsa.pub1
```


然后，在需要远程链接的主机上将公钥加入自身认证：

```
cat id_rsa.pub1 > authorized_key
```


 3.测试

如图SSH远程登陆已经OK

![img](Imag/20181023110106296)