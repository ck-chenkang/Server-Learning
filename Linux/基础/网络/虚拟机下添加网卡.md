# 虚拟机下添加网卡没有配置文件的操作

1、手工添加网卡

在使用vmware 给虚拟机配置一个新的网卡时

配置完毕后，启动虚拟机，使用ifconifg 查看，多了一个ens37 网卡信息

但是在配置目录里，没有发现对应的配置文件

2、添加网卡配置信息

可以使用**nmcli con show** 查看网卡的设备名称(Device)

```
[root@zk03 network-scripts]# nmcli con show 
NAME                UUID                                  TYPE      DEVICE 
ens33               c96bc909-188e-ec64-3a96-6a90982b08ad  ethernet  ens33  
Wired connection 1  2cc23021-6f3f-37cc-98e0-675469cfbb96  ethernet  ens37  
```


添加网卡信息，会自动生成一个ifcfg-ens37配置文件

```
[root@zk03 ~]# nmcli con add con-name ens37 type ethernet ifname ens37
Connection 'ens37' (a4823635-de49-4d3f-ab3a-4680d0ce5849) successfully added.
```

可以看到文件已经有了

修改ifcfg-ens37配置

```
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens37
UUID=a4823635-de49-4d3f-ab3a-4680d0ce5849
DEVICE=ens37
ONBOOT=yes
IPADDR=192.168.100.130
NETMASK=255.255.255.0
GATEWAY=192.168.100.1
DNS1=192.168.100.1
```

配置完成之后，重启network

```
[root@zk03 network-scripts]# systemctl  restart network
```

